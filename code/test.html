<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>test</title>
        <script src="https://unpkg.com/vue@3.2.31"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>
<style type="text/css">
body {
  margin: 30px;
}

</style>

<body>


<script type="text/javascript">

var OffLightState=function(light){
  this.light=light;
};
OffLightState.prototype.buttonWasPressed=function(){
  console.log( '弱光' ); // offLightState 对应的行为
  this.light.setState(this.light.weakLightState);  //切换状态到 weakLightState
};

var WeakLightState=function(light){
  this.light=light;
};
WeakLightState.prototype.buttonWasPressed=function(){
  console.log( '强光' ); // weakLightState 对应的行为
  this.light.setState( this.light.strongLightState ); // 切换状态到 strongLightState
};

var StrongLightState = function( light ){
  this.light = light;
};
StrongLightState.prototype.buttonWasPressed = function(){
  console.log( '超强光' ); // strongLightState 对应的行为
  this.light.setState( this.light.superStrongLightState ); // 切换状态到 superStrongLightState
};

var SuperStrongLightState = function( light ){
  this.light = light;
};
SuperStrongLightState.prototype.buttonWasPressed = function(){
  console.log( '关灯' );
  this.light.setState( this.light.offLightState );
};

var Light=function(){
  this.offLightState=new OffLightState(this);
  this.weakLightState=new WeakLightState(this);
  this.strongLightState=new StrongLightState(this);
  this.superStrongLightState=new SuperStrongLightState(this);
  this.button=null;
};

Light.prototype.init=function(){
  var button=document.createElement("button");
  var self=this;
  button.innerHTML="开关";
  this.button=document.body.appendChild(button);
  this.currentState=this.offLightState;  //设置当前状态
  this.button.onclick=function(){
    self.currentState.buttonWasPressed();
  }
};

Light.prototype.setState=function(newState){
  this.currentState=newState;
};

var light=new Light();
light.init();


</script>

    </body>
</html>