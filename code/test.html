<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>test</title>
        <script src="https://unpkg.com/vue@3.2.31"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>
<style type="text/css">
body {
  margin: 30px;
}

</style>

<body>

用户名：<input id="username" type="text"/>
密码： <input id="password" type="password"/>
<input id="submitBtn" type="button" value="提交">

<script type="text/javascript">

var username = document.getElementById( 'username' ),
  password = document.getElementById( 'password' ),
  submitBtn = document.getElementById( 'submitBtn' );

Function.prototype.before=function(beforefn){
  var __self=this;  //保存原函数的引用
  return function(){  //返回包含了原函数和新函数的"代理"函数
    if(beforefn.apply(this,arguments)===false){
      return;  //beforefn 返回 false 的情况直接 return，不再执行后面的原函数
    };  
    return __self.apply(this,arguments);  //(2)  执行原函数并返回原函数的执行结果，并且保证 this 不被劫持
  }
}

var validata=function(){
  if ( username.value === '' ){
    alert ( '用户名不能为空' );
    return false;
  }
  if ( password.value === '' ){
    alert ( '密码不能为空' );
    return false;
  }
}

var formSubmit = function(){
  var param = {
    username: username.value,
    password: password.value
  }
  ajax( 'http:// xxx.com/login', param ); // ajax 具体实现略
}

formSubmit=formSubmit.before(validata);

submitBtn.onclick = function(){
  formSubmit();
}


</script>

    </body>
</html>