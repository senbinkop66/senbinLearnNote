<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <script src="https://unpkg.com/vue@3.2.31"></script>
    </head>
<style type="text/css">
.demo {
  font-family: sans-serif;
  border: 1px solid #eee;
  border-radius: 2px;
  padding: 20px 30px;
  margin-top: 1em;
  margin-bottom: 40px;
  user-select: none;
  overflow-x: auto;
}

.tab-button {
  padding: 6px 10px;
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
  border: 1px solid #ccc;
  cursor: pointer;
  background: #f0f0f0;
  margin-bottom: -1px;
  margin-right: -1px;
}
.tab-button:hover {
  background: #e034e0;
}
.tab-button.active {
  background: #02e0e0;
}
.demo-tab {
  border: 1px solid #ccc;
  padding: 10px;
}
</style>
    <body>

<div id="v-model-example" class="demo">
   <my-component v-model.capitalize="myText"></my-component>
   {{myText}}
</div>

<script type="text/javascript">

const app = Vue.createApp({
  data(){
    return {
      myText:"",
    }
  },
});

// 没有警告，$attrs 被传递到 <main> 元素
app.component('my-component', {
  props:{
    modelValue:String,
    modelModifiers:{
      default:()=>({})
    }
  },
  emits:['update:modelValue'],
  methods:{
    emitValue(e){
      let value=e.target.value;
      if (this.modelModifiers.capitalize) {
        value=value.charAt(0).toUpperCase()+value.slice(1);
      }
      this.$emit('update:modelValue',value);
    }
  },
  template: `
    <input type="text" 
      :value="modelValue" 
      @input="emitValue">
  `,
  created(){
    console.log(this.modelModifiers);
  }
});

app.mount("#v-model-example")

</script>

    </body>
</html>